<div class="bar bar-dark bar-header">
    <button class="button button-small button-clear" ui-sref="login">
        <i class="ion-arrow-left-c"></i>Login</button>
    <div class="title">Register</div>
</div>
<ion-view title="Register">
    <ion-content class="has-header">
        <div class="list">
            <div class="item" align="center" style="background-color:black;color:white;">
                <h2>Race</h2>{{ racesError }}
                <span ng-repeat="race in races">
                    <button class="button button-small" ng-class="{'button-dark': selectedRace==race}"
                    ng-click="changeRace(race)">{{race.race}}</button>
                </span>
                <br />
                <img ng-src="{{kocHost}}{{selectedRace.image}}" />
                <br />
                <b>{{selectedRace.description}}</b>
                <br />
                <div ng-repeat="feature in selectedRace.features">{{feature}}</div>
            </div>
            <div>
                <form ng-submit="register()" name="registerForm">
                    <label class="item item-input">
                        <span class="input-label">Username</span>
                        <input type="text" name="username" ng-model="loginData.username"
                        placeholder="Username" ng-required="true">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Password</span>
                        <input type="password" name="password" ng-model="loginData.password"
                        placeholder="Password" ng-required="true" ng-change="checkPasswords()">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">Password
                            <br />(confirmation)</span>
                        <input type="password" name="password2" ng-model="loginData.password2"
                        placeholder="Password (confirmation)" ng-required="true" ng-change="checkPasswords()">
                    </label>
                    <label class="item item-input">
                        <span class="input-label">E-Mail</span>
                        <input type="email" name="email" ng-model="loginData.email"
                        placeholder="E-Mail" ng-required="true">
                    </label>
                    <label class="item center">
                        <div class="center">Proove you're not a robot</div>
                        <div class="center">{{captchaError}}</div>
                        <img ng-src="{{challenge_image}}" ng-hide="captchaError.length" />
                        <button class="button button-small" ng-click="getNewChallenge()">new image</button>
                    </label>
                    <label class="item center">
                        <input style="text-align:center;" type="text" name="challenge_response"
                            ng-model="loginData.challenge_response" placeholder="Enter the text shown in the picture"
                            ng-required="true">
                    </label>
                    <label class="item">
                        <div class="error center">{{registerErrorMessage}}</div>
                        <button class="button button-block button-stable" type="submit" ng-hide="registerErrorMessage.length">Register</button>
                    </label>
                </form>
            </div>
        </div>
    </ion-content>
</ion-view>