<ion-view title="Battlefield" hide-back-button="true">
    <ion-nav-buttons side="left">
        <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>

    <ion-content
            class="has-header"
            on-swipe-left="getBattlefield(cacheTimeInSeconds, battlefield.currentPage+1)"
            on-swipe-right="getBattlefield(cacheTimeInSeconds, battlefield.currentPage-1)">
        <ion-refresher pulling-text="Pull to refresh..." on-refresh="reloadBattlefield()"></ion-refresher>
        <div ng-hide="!armoryError.length" class="error center">{{armoryError}}</div>
        <div class="list">
            <div ng-repeat="player in battlefield.players" class="item item-text-wrap item-dark" style="background-color: #000000; color: #ffffff">
                <div class="row">
                    <div>#{{player.rank}}</div>
                    <div style="width: 18px" ng-hide="player.buddyStatus.image===undefined"><img src="{{battlefield.kocHost}}{{player.buddyStatus.image}}" /></div>
                    <div class="col">{{player.username}}</div>
                    <div style="text-align: right">{{player.alliance.name}}</div>
                </div>
                <div class="row">
                    <div class="col" style="text-align: right">{{player.armySizeText}}</div>
                    <div class="col">{{player.race}}</div>
                    <div class="col" style="text-align: right">
                        {{player.goldText}}
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACsklEQVR4XqWTT0xjRRzHP/NaHvQPIAVrrSksRbHpdtkgKiCUrMkmu4Ztsh50Txz05sWkiZo1eioc9erJmL3vRWPWBI0JiQJBXI3J0k2WkPCniCmlVNptLe17P19f0gb2upPMaT7fz0y+M6NEhKcZTgClFACrC/FXxTQ/QiQhgtvhaMPpcXNaPAEoo/headoXk5//8juAiKA1TSupqa+6/IH18MT4rei1q+7o2wmi79zg+dEAA1NRRhLX3eHJ8VsNpsE2c5odnp9e8L80/EH4jTF0r5NK8Qi92085uwM1Aalzksuie9oIT43RYBuZlkAM47Oh6RmKuQz1ahkxDRANTFBaO6XD/4A69VqF4mEGi7UzrQ5EBNraqJ1WQNPwRa9Q3k/jwIFT1+kJujAMS2CtCzZrZ1oCAMSko8tHIZtHTCsoIO0eUMouuVIscpQ5JBgdBrMOqFYHaJpGYWsTXyhGt6+XvbWfOMjk2Hu0w256k631P8jt/s1z4Qg9oUv8k76P5tDOXKPDwcOlJSIYPBMYoDf0MhYBCqjVQdfBNDgtH3Pw4Fd21jbsDC2BpuHq9JL+8We6XwjQeyGI7u1AjBqmGJhWuHpSopDJUcqWcPe4LVntXAeWvUL/K5d5fFxg789HVEslFM2h6PC6cfV18mykk3938qizHSig3QIyf20gYjI4HmPk5pvEEnEu3pgk8tZrBC7329d7tJnF6XKef8rb2fI3g07n+6HRGI/zBbbXN6gWSwCgFPYGHg+uPi99w37rBMek94tfvt56AxD89pPxu9ZfkId33pXsUlIK92/L8W8fS34tKbnVD2V/8T158HVCVhdm5DuLBfwi0hIA9Cdnh+bu3Z5YXE7FKyupaWnO1VRcludnKj98OrGYnH1xrsECPCkAcANhYBQYe2KO2ms2A03B/86LMngd4ZWqAAAAAElFTkSuQmCC" style="vertical-align:middle;">
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
    <div class="bar bar-footer bar-dark">
        <button ng-hide="{{battlefield.currentPage<=1}}"
                ng-click="getBattlefield(cacheTimeInSeconds, battlefield.currentPage-1)"
                class="button button-clear ion-chevron-left pull-left"></button>
        <div class="title">Page {{battlefield.currentPage}} / {{battlefield.maxPage}}</div>
        <button ng-hide="{{battlefield.currentPage>=battlefield.maxPage}}"
                ng-click="getBattlefield(cacheTimeInSeconds, battlefield.currentPage+1)"
                class="button button-clear ion-chevron-right pull-right"></button>
    </div>

</ion-view>