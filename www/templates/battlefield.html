<ion-view view-title="Battlefield" hide-back-button="true">

	<ion-content
		style="background-color: #000000"
		on-swipe-left="goToPage(battlefield.currentPage+1)"
		on-swipe-right="goToPage(battlefield.currentPage-1)">
		<ion-refresher pulling-text="Pull to refresh..." on-refresh="reloadBattlefield()" spinner="bubbles"></ion-refresher>
		<div ng-hide="!battlefieldError.length" class="error center">{{battlefieldError}}</div>
		<div class="list">
			<div ng-repeat="player in battlefield.players"
					 class="item item-text-wrap item-dark"
					 style="background-color: #000000; color: #ffffff"
					 ng-click="showUserStats(player.userid)">
				<div class="row">
					<div>#{{player.rank}}</div>
					<div style="width: 23px; margin-left: 5px;" ng-hide="player.intelFile.image===undefined"><img
						ng-hide="player.intelFile.image===undefined"
						ng-src="{{battlefield.kocHost}}{{player.intelFile.image}}"/></div>
					<div style="width: 18px; margin-left: 5px;" ng-hide="player.buddyStatus.image===undefined"><img
						ng-hide="player.buddyStatus.image===undefined"
						ng-src="{{battlefield.kocHost}}{{player.buddyStatus.image}}"/></div>
					<div class="col" style="margin-left: 5px;">{{player.username}}</div>
					<div style="text-align: right">{{player.alliance.name}}</div>
				</div>
				<div class="row">
					<div class="col" style="text-align: right">{{player.armySizeText}}</div>
					<div class="col">{{player.race}}</div>
					<div class="col" style="text-align: right">
						{{player.goldText}}
						<img
							src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACsklEQVR4XqWTT0xjRRzHP/NaHvQPIAVrrSksRbHpdtkgKiCUrMkmu4Ztsh50Txz05sWkiZo1eioc9erJmL3vRWPWBI0JiQJBXI3J0k2WkPCniCmlVNptLe17P19f0gb2upPMaT7fz0y+M6NEhKcZTgClFACrC/FXxTQ/QiQhgtvhaMPpcXNaPAEoo/headoXk5//8juAiKA1TSupqa+6/IH18MT4rei1q+7o2wmi79zg+dEAA1NRRhLX3eHJ8VsNpsE2c5odnp9e8L80/EH4jTF0r5NK8Qi92085uwM1Aalzksuie9oIT43RYBuZlkAM47Oh6RmKuQz1ahkxDRANTFBaO6XD/4A69VqF4mEGi7UzrQ5EBNraqJ1WQNPwRa9Q3k/jwIFT1+kJujAMS2CtCzZrZ1oCAMSko8tHIZtHTCsoIO0eUMouuVIscpQ5JBgdBrMOqFYHaJpGYWsTXyhGt6+XvbWfOMjk2Hu0w256k631P8jt/s1z4Qg9oUv8k76P5tDOXKPDwcOlJSIYPBMYoDf0MhYBCqjVQdfBNDgtH3Pw4Fd21jbsDC2BpuHq9JL+8We6XwjQeyGI7u1AjBqmGJhWuHpSopDJUcqWcPe4LVntXAeWvUL/K5d5fFxg789HVEslFM2h6PC6cfV18mykk3938qizHSig3QIyf20gYjI4HmPk5pvEEnEu3pgk8tZrBC7329d7tJnF6XKef8rb2fI3g07n+6HRGI/zBbbXN6gWSwCgFPYGHg+uPi99w37rBMek94tfvt56AxD89pPxu9ZfkId33pXsUlIK92/L8W8fS34tKbnVD2V/8T158HVCVhdm5DuLBfwi0hIA9Cdnh+bu3Z5YXE7FKyupaWnO1VRcludnKj98OrGYnH1xrsECPCkAcANhYBQYe2KO2ms2A03B/86LMngd4ZWqAAAAAElFTkSuQmCC"
							style="vertical-align:middle;">
					</div>
				</div>
			</div>
		</div>
	</ion-content>
	<ion-footer-bar class="bar bar-footer bar-dark">
		<a ng-hide="{{battlefield.currentPage==1}}"
				 ng-click="goToPage(battlefield.currentPage-1)"
				 nav-transition="none"
				 class="button button-clear button-large pull-left">
			<i class="ion-chevron-left"></i>
			<i class="ion-chevron-left"></i>
			<i class="ion-chevron-left"></i>
		</a>
		<div class="title" ng-click="promptGoToPage()">Page {{battlefield.currentPage}} / {{battlefield.maxPage}}</div>
		<a ng-hide="{{battlefield.currentPage>=battlefield.maxPage}}"
				 ng-click="goToPage(battlefield.currentPage+1)"
				 nav-transition="none"
				 class="button button-clear button-large pull-right">
			<i class="ion-chevron-right"></i>
			<i class="ion-chevron-right"></i>
			<i class="ion-chevron-right"></i>
		</a>
	</ion-footer-bar>
</ion-view>