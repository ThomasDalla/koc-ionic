<ion-view title="Training" hide-back-button="true">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>

  <ion-content class="has-header" style="background-color:black;">
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="reloadTraining()"></ion-refresher>
    <div ng-hide="!trainError.length" class="error center">{{trainError}}</div>
    <div class="list">
      <div>
        <div class="item item-divider item-dark">Current Personnel</div>
        <div class="item item-text-wrap">
          <div class="row">
            <div class="col col-75">Trained Attack Soldiers</div>
            <div class="col" style="text-align: right;">{{personnel['Trained Attack Soldiers']}}</div>
          </div>
          <div class="row">
            <div class="col col-75">Trained Attack Mercenaries</div>
            <div class="col" style="text-align: right;">{{personnel['Trained Attack Mercenaries']}}</div>
          </div>
        </div>
        <div class="item item-text-wrap">
          <div class="row">
            <div class="col col-75">Trained Defense Soldiers</div>
            <div class="col" style="text-align: right;">{{personnel['Trained Defense Soldiers']}}</div>
          </div>
          <div class="row">
            <div class="col col-75">Trained Defense Mercenaries</div>
            <div class="col" style="text-align: right;">{{personnel['Trained Defense Mercenaries']}}</div>
          </div>
        </div>
        <div class="item item-text-wrap">
          <div class="row">
            <div class="col col-75">Untrained Soldiers</div>
            <div class="col" style="text-align: right;">{{personnel['Untrained Soldiers']}}</div>
          </div>
          <div class="row">
            <div class="col col-75">Untrained Mercenaries</div>
            <div class="col" style="text-align: right;">{{personnel['Untrained Mercenaries']}}</div>
          </div>
        </div>
        <div class="item item-text-wrap">
          <div class="row">
            <div class="col col-75">Spies</div>
            <div class="col" style="text-align: right;">{{personnel['Spies']}}</div>
          </div>
          <div class="row">
            <div class="col col-75">Sentries</div>
            <div class="col" style="text-align: right;">{{personnel['Sentries']}}</div>
          </div>
        </div>
        <div class="item item-text-wrap">
          <div class="row">
            <div class="col col-75">Army Morale</div>
            <div class="col" style="text-align: right;">{{personnel['Army Morale']}}</div>
          </div>
          <div class="row">
            <div class="col col-75">Total Fighting Force</div>
            <div class="col" style="text-align: right;">{{personnel['Total Fighting Force']}}</div>
          </div>
        </div>
      </div>
      <div>
        <div class="item item-divider item-dark">Train Your Troops</div>
        <div class="item item-text-wrap" ng-repeat="program in training.train">
          <div class="row">
            <div class="col col-50"  style="text-align:right;">{{program.trainingProgram}}</div>
            <div class="col col-50">{{program.costPerUnitText}}</div>
          </div>
          <div class="row">
            <div class="col col-33" style="text-align:right;">
              <button class="button button-small button-stable" ng-disabled="disableActions" ng-click="trainQuantity($index,-100)">-100</button>
              <button class="button button-small button-stable" ng-disabled="disableActions" ng-click="trainQuantity($index,-10)" >-10 </button>
              <button class="button button-small button-stable" ng-disabled="disableActions" ng-click="trainQuantity($index,-1)"  >-1  </button>
            </div>
            <div class="col col-33" style="text-align:center;">
               {{program.inputValue|number:0}} ({{program.inputValue*program.costPerUnit|number:0}} Gold)
            </div>
            <div class="col col-33" style="text-align:left;">
              <button class="button button-small button-stable" ng-disabled="disableActions" ng-click="trainQuantity($index,+1)"  >+1  </button>
              <button class="button button-small button-stable" ng-disabled="disableActions" ng-click="trainQuantity($index,+10)" >+10 </button>
              <button class="button button-small button-stable" ng-disabled="disableActions" ng-click="trainQuantity($index,+100)">+100</button>
            </div>
        </div>
      </div>
      <div class="item item-divider item-stable">
        <div class="error center" ng-hide="buyTotal<stats.gold">More than you seem to be able to afford!</div>
        <button class="button button-block button-dark" ng-disabled="disableActions" ng-click="trainTroops()">Train {{soldiersTrained|number:0}} Soldiers For {{buyTotal|number:0}} Gold</button>
      </div>
    </div>
  </ion-content>
</ion-view>
